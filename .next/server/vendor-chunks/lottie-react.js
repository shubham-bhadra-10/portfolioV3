"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/lottie-react";
exports.ids = ["vendor-chunks/lottie-react"];
exports.modules = {

/***/ "(ssr)/./node_modules/lottie-react/build/index.es.js":
/*!*****************************************************!*\
  !*** ./node_modules/lottie-react/build/index.es.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LottiePlayer: () => (/* reexport default from dynamic */ lottie_web__WEBPACK_IMPORTED_MODULE_0___default.a),\n/* harmony export */   \"default\": () => (/* binding */ Lottie),\n/* harmony export */   useLottie: () => (/* binding */ useLottie),\n/* harmony export */   useLottieInteractivity: () => (/* binding */ useLottieInteractivity)\n/* harmony export */ });\n/* harmony import */ var lottie_web__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lottie-web */ \"(ssr)/./node_modules/lottie-web/build/player/lottie.js\");\n/* harmony import */ var lottie_web__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lottie_web__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\n\r\n\r\nfunction _iterableToArrayLimit(arr, i) {\r\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\r\n  if (null != _i) {\r\n    var _s,\r\n      _e,\r\n      _x,\r\n      _r,\r\n      _arr = [],\r\n      _n = !0,\r\n      _d = !1;\r\n    try {\r\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\r\n        if (Object(_i) !== _i) return;\r\n        _n = !1;\r\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\r\n    } catch (err) {\r\n      _d = !0, _e = err;\r\n    } finally {\r\n      try {\r\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return;\r\n      } finally {\r\n        if (_d) throw _e;\r\n      }\r\n    }\r\n    return _arr;\r\n  }\r\n}\r\nfunction ownKeys(object, enumerableOnly) {\r\n  var keys = Object.keys(object);\r\n  if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\r\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\r\n    })), keys.push.apply(keys, symbols);\r\n  }\r\n  return keys;\r\n}\r\nfunction _objectSpread2(target) {\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    var source = null != arguments[i] ? arguments[i] : {};\r\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\r\n      _defineProperty(target, key, source[key]);\r\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\r\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\r\n    });\r\n  }\r\n  return target;\r\n}\r\nfunction _defineProperty(obj, key, value) {\r\n  key = _toPropertyKey(key);\r\n  if (key in obj) {\r\n    Object.defineProperty(obj, key, {\r\n      value: value,\r\n      enumerable: true,\r\n      configurable: true,\r\n      writable: true\r\n    });\r\n  } else {\r\n    obj[key] = value;\r\n  }\r\n  return obj;\r\n}\r\nfunction _objectWithoutPropertiesLoose(source, excluded) {\r\n  if (source == null) return {};\r\n  var target = {};\r\n  var sourceKeys = Object.keys(source);\r\n  var key, i;\r\n  for (i = 0; i < sourceKeys.length; i++) {\r\n    key = sourceKeys[i];\r\n    if (excluded.indexOf(key) >= 0) continue;\r\n    target[key] = source[key];\r\n  }\r\n  return target;\r\n}\r\nfunction _objectWithoutProperties(source, excluded) {\r\n  if (source == null) return {};\r\n  var target = _objectWithoutPropertiesLoose(source, excluded);\r\n  var key, i;\r\n  if (Object.getOwnPropertySymbols) {\r\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\r\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\r\n      key = sourceSymbolKeys[i];\r\n      if (excluded.indexOf(key) >= 0) continue;\r\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\r\n      target[key] = source[key];\r\n    }\r\n  }\r\n  return target;\r\n}\r\nfunction _slicedToArray(arr, i) {\r\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\r\n}\r\nfunction _arrayWithHoles(arr) {\r\n  if (Array.isArray(arr)) return arr;\r\n}\r\nfunction _unsupportedIterableToArray(o, minLen) {\r\n  if (!o) return;\r\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\r\n  var n = Object.prototype.toString.call(o).slice(8, -1);\r\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\r\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\r\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\r\n}\r\nfunction _arrayLikeToArray(arr, len) {\r\n  if (len == null || len > arr.length) len = arr.length;\r\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\r\n  return arr2;\r\n}\r\nfunction _nonIterableRest() {\r\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n}\r\nfunction _toPrimitive(input, hint) {\r\n  if (typeof input !== \"object\" || input === null) return input;\r\n  var prim = input[Symbol.toPrimitive];\r\n  if (prim !== undefined) {\r\n    var res = prim.call(input, hint || \"default\");\r\n    if (typeof res !== \"object\") return res;\r\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\r\n  }\r\n  return (hint === \"string\" ? String : Number)(input);\r\n}\r\nfunction _toPropertyKey(arg) {\r\n  var key = _toPrimitive(arg, \"string\");\r\n  return typeof key === \"symbol\" ? key : String(key);\r\n}\r\n\r\nvar _excluded$1 = [\"animationData\", \"loop\", \"autoplay\", \"initialSegment\", \"onComplete\", \"onLoopComplete\", \"onEnterFrame\", \"onSegmentStart\", \"onConfigReady\", \"onDataReady\", \"onDataFailed\", \"onLoadedImages\", \"onDOMLoaded\", \"onDestroy\", \"lottieRef\", \"renderer\", \"name\", \"assetsPath\", \"rendererSettings\"];\r\nvar useLottie = function useLottie(props, style) {\r\n  var animationData = props.animationData,\r\n    loop = props.loop,\r\n    autoplay = props.autoplay,\r\n    initialSegment = props.initialSegment,\r\n    onComplete = props.onComplete,\r\n    onLoopComplete = props.onLoopComplete,\r\n    onEnterFrame = props.onEnterFrame,\r\n    onSegmentStart = props.onSegmentStart,\r\n    onConfigReady = props.onConfigReady,\r\n    onDataReady = props.onDataReady,\r\n    onDataFailed = props.onDataFailed,\r\n    onLoadedImages = props.onLoadedImages,\r\n    onDOMLoaded = props.onDOMLoaded,\r\n    onDestroy = props.onDestroy;\r\n    props.lottieRef;\r\n    props.renderer;\r\n    props.name;\r\n    props.assetsPath;\r\n    props.rendererSettings;\r\n    var rest = _objectWithoutProperties(props, _excluded$1);\r\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false),\r\n    _useState2 = _slicedToArray(_useState, 2),\r\n    animationLoaded = _useState2[0],\r\n    setAnimationLoaded = _useState2[1];\r\n  var animationInstanceRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\r\n  var animationContainer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\r\n  /*\r\n        ======================================\r\n            INTERACTION METHODS\r\n        ======================================\r\n     */\r\n  /**\r\n   * Play\r\n   */\r\n  var play = function play() {\r\n    var _a;\r\n    (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.play();\r\n  };\r\n  /**\r\n   * Stop\r\n   */\r\n  var stop = function stop() {\r\n    var _a;\r\n    (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.stop();\r\n  };\r\n  /**\r\n   * Pause\r\n   */\r\n  var pause = function pause() {\r\n    var _a;\r\n    (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.pause();\r\n  };\r\n  /**\r\n   * Set animation speed\r\n   * @param speed\r\n   */\r\n  var setSpeed = function setSpeed(speed) {\r\n    var _a;\r\n    (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.setSpeed(speed);\r\n  };\r\n  /**\r\n   * Got to frame and play\r\n   * @param value\r\n   * @param isFrame\r\n   */\r\n  var goToAndPlay = function goToAndPlay(value, isFrame) {\r\n    var _a;\r\n    (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.goToAndPlay(value, isFrame);\r\n  };\r\n  /**\r\n   * Got to frame and stop\r\n   * @param value\r\n   * @param isFrame\r\n   */\r\n  var goToAndStop = function goToAndStop(value, isFrame) {\r\n    var _a;\r\n    (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.goToAndStop(value, isFrame);\r\n  };\r\n  /**\r\n   * Set animation direction\r\n   * @param direction\r\n   */\r\n  var setDirection = function setDirection(direction) {\r\n    var _a;\r\n    (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.setDirection(direction);\r\n  };\r\n  /**\r\n   * Play animation segments\r\n   * @param segments\r\n   * @param forceFlag\r\n   */\r\n  var playSegments = function playSegments(segments, forceFlag) {\r\n    var _a;\r\n    (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.playSegments(segments, forceFlag);\r\n  };\r\n  /**\r\n   * Set sub frames\r\n   * @param useSubFrames\r\n   */\r\n  var setSubframe = function setSubframe(useSubFrames) {\r\n    var _a;\r\n    (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.setSubframe(useSubFrames);\r\n  };\r\n  /**\r\n   * Get animation duration\r\n   * @param inFrames\r\n   */\r\n  var getDuration = function getDuration(inFrames) {\r\n    var _a;\r\n    return (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.getDuration(inFrames);\r\n  };\r\n  /**\r\n   * Destroy animation\r\n   */\r\n  var destroy = function destroy() {\r\n    var _a;\r\n    (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\r\n    // Removing the reference to the animation so separate cleanups are skipped.\r\n    // Without it the internal `lottie-react` instance throws exceptions as it already cleared itself on destroy.\r\n    animationInstanceRef.current = undefined;\r\n  };\r\n  /*\r\n        ======================================\r\n            LOTTIE\r\n        ======================================\r\n     */\r\n  /**\r\n   * Load a new animation, and if it's the case, destroy the previous one\r\n   * @param {Object} forcedConfigs\r\n   */\r\n  var loadAnimation = function loadAnimation() {\r\n    var forcedConfigs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n    var _a;\r\n    // Return if the container ref is null\r\n    if (!animationContainer.current) {\r\n      return;\r\n    }\r\n    // Destroy any previous instance\r\n    (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\r\n    // Build the animation configuration\r\n    var config = _objectSpread2(_objectSpread2(_objectSpread2({}, props), forcedConfigs), {}, {\r\n      container: animationContainer.current\r\n    });\r\n    // Save the animation instance\r\n    animationInstanceRef.current = lottie_web__WEBPACK_IMPORTED_MODULE_0___default().loadAnimation(config);\r\n    setAnimationLoaded(!!animationInstanceRef.current);\r\n    // Return a function that will clean up\r\n    return function () {\r\n      var _a;\r\n      (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\r\n      animationInstanceRef.current = undefined;\r\n    };\r\n  };\r\n  /**\r\n   * (Re)Initialize when animation data changed\r\n   */\r\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n    var onUnmount = loadAnimation();\r\n    // Clean up on unmount\r\n    return function () {\r\n      return onUnmount === null || onUnmount === void 0 ? void 0 : onUnmount();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [animationData, loop]);\r\n  // Update the autoplay state\r\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n    if (!animationInstanceRef.current) {\r\n      return;\r\n    }\r\n    animationInstanceRef.current.autoplay = !!autoplay;\r\n  }, [autoplay]);\r\n  // Update the initial segment state\r\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n    if (!animationInstanceRef.current) {\r\n      return;\r\n    }\r\n    // When null should reset to default animation length\r\n    if (!initialSegment) {\r\n      animationInstanceRef.current.resetSegments(true);\r\n      return;\r\n    }\r\n    // If it's not a valid segment, do nothing\r\n    if (!Array.isArray(initialSegment) || !initialSegment.length) {\r\n      return;\r\n    }\r\n    // If the current position it's not in the new segment\r\n    // set the current position to start\r\n    if (animationInstanceRef.current.currentRawFrame < initialSegment[0] || animationInstanceRef.current.currentRawFrame > initialSegment[1]) {\r\n      animationInstanceRef.current.currentRawFrame = initialSegment[0];\r\n    }\r\n    // Update the segment\r\n    animationInstanceRef.current.setSegment(initialSegment[0], initialSegment[1]);\r\n  }, [initialSegment]);\r\n  /*\r\n        ======================================\r\n            EVENTS\r\n        ======================================\r\n     */\r\n  /**\r\n   * Reinitialize listener on change\r\n   */\r\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n    var partialListeners = [{\r\n      name: \"complete\",\r\n      handler: onComplete\r\n    }, {\r\n      name: \"loopComplete\",\r\n      handler: onLoopComplete\r\n    }, {\r\n      name: \"enterFrame\",\r\n      handler: onEnterFrame\r\n    }, {\r\n      name: \"segmentStart\",\r\n      handler: onSegmentStart\r\n    }, {\r\n      name: \"config_ready\",\r\n      handler: onConfigReady\r\n    }, {\r\n      name: \"data_ready\",\r\n      handler: onDataReady\r\n    }, {\r\n      name: \"data_failed\",\r\n      handler: onDataFailed\r\n    }, {\r\n      name: \"loaded_images\",\r\n      handler: onLoadedImages\r\n    }, {\r\n      name: \"DOMLoaded\",\r\n      handler: onDOMLoaded\r\n    }, {\r\n      name: \"destroy\",\r\n      handler: onDestroy\r\n    }];\r\n    var listeners = partialListeners.filter(function (listener) {\r\n      return listener.handler != null;\r\n    });\r\n    if (!listeners.length) {\r\n      return;\r\n    }\r\n    var deregisterList = listeners.map(\r\n    /**\r\n     * Handle the process of adding an event listener\r\n     * @param {Listener} listener\r\n     * @return {Function} Function that deregister the listener\r\n     */\r\n    function (listener) {\r\n      var _a;\r\n      (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.addEventListener(listener.name, listener.handler);\r\n      // Return a function to deregister this listener\r\n      return function () {\r\n        var _a;\r\n        (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.removeEventListener(listener.name, listener.handler);\r\n      };\r\n    });\r\n    // Deregister listeners on unmount\r\n    return function () {\r\n      deregisterList.forEach(function (deregister) {\r\n        return deregister();\r\n      });\r\n    };\r\n  }, [onComplete, onLoopComplete, onEnterFrame, onSegmentStart, onConfigReady, onDataReady, onDataFailed, onLoadedImages, onDOMLoaded, onDestroy]);\r\n  /**\r\n   * Build the animation view\r\n   */\r\n  var View = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", _objectSpread2({\r\n    style: style,\r\n    ref: animationContainer\r\n  }, rest));\r\n  return {\r\n    View: View,\r\n    play: play,\r\n    stop: stop,\r\n    pause: pause,\r\n    setSpeed: setSpeed,\r\n    goToAndStop: goToAndStop,\r\n    goToAndPlay: goToAndPlay,\r\n    setDirection: setDirection,\r\n    playSegments: playSegments,\r\n    setSubframe: setSubframe,\r\n    getDuration: getDuration,\r\n    destroy: destroy,\r\n    animationContainerRef: animationContainer,\r\n    animationLoaded: animationLoaded,\r\n    animationItem: animationInstanceRef.current\r\n  };\r\n};\r\n\r\n// helpers\r\nfunction getContainerVisibility(container) {\r\n  var _container$getBoundin = container.getBoundingClientRect(),\r\n    top = _container$getBoundin.top,\r\n    height = _container$getBoundin.height;\r\n  var current = window.innerHeight - top;\r\n  var max = window.innerHeight + height;\r\n  return current / max;\r\n}\r\nfunction getContainerCursorPosition(container, cursorX, cursorY) {\r\n  var _container$getBoundin2 = container.getBoundingClientRect(),\r\n    top = _container$getBoundin2.top,\r\n    left = _container$getBoundin2.left,\r\n    width = _container$getBoundin2.width,\r\n    height = _container$getBoundin2.height;\r\n  var x = (cursorX - left) / width;\r\n  var y = (cursorY - top) / height;\r\n  return {\r\n    x: x,\r\n    y: y\r\n  };\r\n}\r\nvar useInitInteractivity = function useInitInteractivity(_ref) {\r\n  var wrapperRef = _ref.wrapperRef,\r\n    animationItem = _ref.animationItem,\r\n    mode = _ref.mode,\r\n    actions = _ref.actions;\r\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n    var wrapper = wrapperRef.current;\r\n    if (!wrapper || !animationItem || !actions.length) {\r\n      return;\r\n    }\r\n    animationItem.stop();\r\n    var scrollModeHandler = function scrollModeHandler() {\r\n      var assignedSegment = null;\r\n      var scrollHandler = function scrollHandler() {\r\n        var currentPercent = getContainerVisibility(wrapper);\r\n        // Find the first action that satisfies the current position conditions\r\n        var action = actions.find(function (_ref2) {\r\n          var visibility = _ref2.visibility;\r\n          return visibility && currentPercent >= visibility[0] && currentPercent <= visibility[1];\r\n        });\r\n        // Skip if no matching action was found!\r\n        if (!action) {\r\n          return;\r\n        }\r\n        if (action.type === \"seek\" && action.visibility && action.frames.length === 2) {\r\n          // Seek: Go to a frame based on player scroll position action\r\n          var frameToGo = action.frames[0] + Math.ceil((currentPercent - action.visibility[0]) / (action.visibility[1] - action.visibility[0]) * action.frames[1]);\r\n          //! goToAndStop must be relative to the start of the current segment\r\n          animationItem.goToAndStop(frameToGo - animationItem.firstFrame - 1, true);\r\n        }\r\n        if (action.type === \"loop\") {\r\n          // Loop: Loop a given frames\r\n          if (assignedSegment === null) {\r\n            // if not playing any segments currently. play those segments and save to state\r\n            animationItem.playSegments(action.frames, true);\r\n            assignedSegment = action.frames;\r\n          } else {\r\n            // if playing any segments currently.\r\n            //check if segments in state are equal to the frames selected by action\r\n            if (assignedSegment !== action.frames) {\r\n              // if they are not equal. new segments are to be loaded\r\n              animationItem.playSegments(action.frames, true);\r\n              assignedSegment = action.frames;\r\n            } else if (animationItem.isPaused) {\r\n              // if they are equal the play method must be called only if lottie is paused\r\n              animationItem.playSegments(action.frames, true);\r\n              assignedSegment = action.frames;\r\n            }\r\n          }\r\n        }\r\n        if (action.type === \"play\" && animationItem.isPaused) {\r\n          // Play: Reset segments and continue playing full animation from current position\r\n          animationItem.resetSegments(true);\r\n          animationItem.play();\r\n        }\r\n        if (action.type === \"stop\") {\r\n          // Stop: Stop playback\r\n          animationItem.goToAndStop(action.frames[0] - animationItem.firstFrame - 1, true);\r\n        }\r\n      };\r\n      document.addEventListener(\"scroll\", scrollHandler);\r\n      return function () {\r\n        document.removeEventListener(\"scroll\", scrollHandler);\r\n      };\r\n    };\r\n    var cursorModeHandler = function cursorModeHandler() {\r\n      var handleCursor = function handleCursor(_x, _y) {\r\n        var x = _x;\r\n        var y = _y;\r\n        // Resolve cursor position if cursor is inside container\r\n        if (x !== -1 && y !== -1) {\r\n          // Get container cursor position\r\n          var pos = getContainerCursorPosition(wrapper, x, y);\r\n          // Use the resolved position\r\n          x = pos.x;\r\n          y = pos.y;\r\n        }\r\n        // Find the first action that satisfies the current position conditions\r\n        var action = actions.find(function (_ref3) {\r\n          var position = _ref3.position;\r\n          if (position && Array.isArray(position.x) && Array.isArray(position.y)) {\r\n            return x >= position.x[0] && x <= position.x[1] && y >= position.y[0] && y <= position.y[1];\r\n          }\r\n          if (position && !Number.isNaN(position.x) && !Number.isNaN(position.y)) {\r\n            return x === position.x && y === position.y;\r\n          }\r\n          return false;\r\n        });\r\n        // Skip if no matching action was found!\r\n        if (!action) {\r\n          return;\r\n        }\r\n        // Process action types:\r\n        if (action.type === \"seek\" && action.position && Array.isArray(action.position.x) && Array.isArray(action.position.y) && action.frames.length === 2) {\r\n          // Seek: Go to a frame based on player scroll position action\r\n          var xPercent = (x - action.position.x[0]) / (action.position.x[1] - action.position.x[0]);\r\n          var yPercent = (y - action.position.y[0]) / (action.position.y[1] - action.position.y[0]);\r\n          animationItem.playSegments(action.frames, true);\r\n          animationItem.goToAndStop(Math.ceil((xPercent + yPercent) / 2 * (action.frames[1] - action.frames[0])), true);\r\n        }\r\n        if (action.type === \"loop\") {\r\n          animationItem.playSegments(action.frames, true);\r\n        }\r\n        if (action.type === \"play\") {\r\n          // Play: Reset segments and continue playing full animation from current position\r\n          if (animationItem.isPaused) {\r\n            animationItem.resetSegments(false);\r\n          }\r\n          animationItem.playSegments(action.frames);\r\n        }\r\n        if (action.type === \"stop\") {\r\n          animationItem.goToAndStop(action.frames[0], true);\r\n        }\r\n      };\r\n      var mouseMoveHandler = function mouseMoveHandler(ev) {\r\n        handleCursor(ev.clientX, ev.clientY);\r\n      };\r\n      var mouseOutHandler = function mouseOutHandler() {\r\n        handleCursor(-1, -1);\r\n      };\r\n      wrapper.addEventListener(\"mousemove\", mouseMoveHandler);\r\n      wrapper.addEventListener(\"mouseout\", mouseOutHandler);\r\n      return function () {\r\n        wrapper.removeEventListener(\"mousemove\", mouseMoveHandler);\r\n        wrapper.removeEventListener(\"mouseout\", mouseOutHandler);\r\n      };\r\n    };\r\n    switch (mode) {\r\n      case \"scroll\":\r\n        return scrollModeHandler();\r\n      case \"cursor\":\r\n        return cursorModeHandler();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [mode, animationItem]);\r\n};\r\nvar useLottieInteractivity = function useLottieInteractivity(_ref4) {\r\n  var actions = _ref4.actions,\r\n    mode = _ref4.mode,\r\n    lottieObj = _ref4.lottieObj;\r\n  var animationItem = lottieObj.animationItem,\r\n    View = lottieObj.View,\r\n    animationContainerRef = lottieObj.animationContainerRef;\r\n  useInitInteractivity({\r\n    actions: actions,\r\n    animationItem: animationItem,\r\n    mode: mode,\r\n    wrapperRef: animationContainerRef\r\n  });\r\n  return View;\r\n};\r\n\r\nvar _excluded = [\"style\", \"interactivity\"];\r\nvar Lottie = function Lottie(props) {\r\n  var _a, _b, _c;\r\n  var style = props.style,\r\n    interactivity = props.interactivity,\r\n    lottieProps = _objectWithoutProperties(props, _excluded);\r\n  /**\r\n   * Initialize the 'useLottie' hook\r\n   */\r\n  var _useLottie = useLottie(lottieProps, style),\r\n    View = _useLottie.View,\r\n    play = _useLottie.play,\r\n    stop = _useLottie.stop,\r\n    pause = _useLottie.pause,\r\n    setSpeed = _useLottie.setSpeed,\r\n    goToAndStop = _useLottie.goToAndStop,\r\n    goToAndPlay = _useLottie.goToAndPlay,\r\n    setDirection = _useLottie.setDirection,\r\n    playSegments = _useLottie.playSegments,\r\n    setSubframe = _useLottie.setSubframe,\r\n    getDuration = _useLottie.getDuration,\r\n    destroy = _useLottie.destroy,\r\n    animationContainerRef = _useLottie.animationContainerRef,\r\n    animationLoaded = _useLottie.animationLoaded,\r\n    animationItem = _useLottie.animationItem;\r\n  /**\r\n   * Make the hook variables/methods available through the provided 'lottieRef'\r\n   */\r\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n    if (props.lottieRef) {\r\n      props.lottieRef.current = {\r\n        play: play,\r\n        stop: stop,\r\n        pause: pause,\r\n        setSpeed: setSpeed,\r\n        goToAndPlay: goToAndPlay,\r\n        goToAndStop: goToAndStop,\r\n        setDirection: setDirection,\r\n        playSegments: playSegments,\r\n        setSubframe: setSubframe,\r\n        getDuration: getDuration,\r\n        destroy: destroy,\r\n        animationContainerRef: animationContainerRef,\r\n        animationLoaded: animationLoaded,\r\n        animationItem: animationItem\r\n      };\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [(_a = props.lottieRef) === null || _a === void 0 ? void 0 : _a.current]);\r\n  return useLottieInteractivity({\r\n    lottieObj: {\r\n      View: View,\r\n      play: play,\r\n      stop: stop,\r\n      pause: pause,\r\n      setSpeed: setSpeed,\r\n      goToAndStop: goToAndStop,\r\n      goToAndPlay: goToAndPlay,\r\n      setDirection: setDirection,\r\n      playSegments: playSegments,\r\n      setSubframe: setSubframe,\r\n      getDuration: getDuration,\r\n      destroy: destroy,\r\n      animationContainerRef: animationContainerRef,\r\n      animationLoaded: animationLoaded,\r\n      animationItem: animationItem\r\n    },\r\n    actions: (_b = interactivity === null || interactivity === void 0 ? void 0 : interactivity.actions) !== null && _b !== void 0 ? _b : [],\r\n    mode: (_c = interactivity === null || interactivity === void 0 ? void 0 : interactivity.mode) !== null && _c !== void 0 ? _c : \"scroll\"\r\n  });\r\n};\r\n\r\n\r\n//# sourceMappingURL=index.es.js.map\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbG90dGllLXJlYWN0L2J1aWxkL2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWdDO0FBQ3FCO0FBQ007QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxZQUFZLDZFQUE2RTtBQUNqRyxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0JBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHVCQUF1QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNkJBQTZCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwrQ0FBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNkNBQU07QUFDbkMsMkJBQTJCLDZDQUFNO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLDRCQUE0QjtBQUM1RjtBQUNBLEtBQUs7QUFDTDtBQUNBLG1DQUFtQywrREFBb0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekIsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwwREFBbUI7QUFDN0M7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDZ0U7QUFDaEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbG9wZXItcG9ydGZvbGlvLy4vbm9kZV9tb2R1bGVzL2xvdHRpZS1yZWFjdC9idWlsZC9pbmRleC5lcy5qcz80ZjAwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb3R0aWUgZnJvbSAnbG90dGllLXdlYic7XHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTG90dGllUGxheWVyIH0gZnJvbSAnbG90dGllLXdlYic7XHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcblxyXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XHJcbiAgdmFyIF9pID0gbnVsbCA9PSBhcnIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XHJcbiAgaWYgKG51bGwgIT0gX2kpIHtcclxuICAgIHZhciBfcyxcclxuICAgICAgX2UsXHJcbiAgICAgIF94LFxyXG4gICAgICBfcixcclxuICAgICAgX2FyciA9IFtdLFxyXG4gICAgICBfbiA9ICEwLFxyXG4gICAgICBfZCA9ICExO1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKF94ID0gKF9pID0gX2kuY2FsbChhcnIpKS5uZXh0LCAwID09PSBpKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdChfaSkgIT09IF9pKSByZXR1cm47XHJcbiAgICAgICAgX24gPSAhMTtcclxuICAgICAgfSBlbHNlIGZvciAoOyAhKF9uID0gKF9zID0gX3guY2FsbChfaSkpLmRvbmUpICYmIChfYXJyLnB1c2goX3MudmFsdWUpLCBfYXJyLmxlbmd0aCAhPT0gaSk7IF9uID0gITApO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIF9kID0gITAsIF9lID0gZXJyO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoIV9uICYmIG51bGwgIT0gX2kucmV0dXJuICYmIChfciA9IF9pLnJldHVybigpLCBPYmplY3QoX3IpICE9PSBfcikpIHJldHVybjtcclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX2FycjtcclxuICB9XHJcbn1cclxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7XHJcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xyXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XHJcbiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcclxuICAgIGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xyXG4gICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTtcclxuICAgIH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xyXG4gIH1cclxuICByZXR1cm4ga2V5cztcclxufVxyXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkMih0YXJnZXQpIHtcclxuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307XHJcbiAgICBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XHJcbiAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICByZXR1cm4gdGFyZ2V0O1xyXG59XHJcbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcclxuICBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpO1xyXG4gIGlmIChrZXkgaW4gb2JqKSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcclxuICAgICAgdmFsdWU6IHZhbHVlLFxyXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgIHdyaXRhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcclxuICB9XHJcbiAgcmV0dXJuIG9iajtcclxufVxyXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XHJcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XHJcbiAgdmFyIHRhcmdldCA9IHt9O1xyXG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcclxuICB2YXIga2V5LCBpO1xyXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xyXG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcclxuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XHJcbiAgfVxyXG4gIHJldHVybiB0YXJnZXQ7XHJcbn1cclxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHtcclxuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcclxuICB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7XHJcbiAgdmFyIGtleSwgaTtcclxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xyXG4gICAgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldO1xyXG4gICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xyXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlO1xyXG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gdGFyZ2V0O1xyXG59XHJcbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xyXG4gIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7XHJcbn1cclxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xyXG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XHJcbn1cclxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xyXG4gIGlmICghbykgcmV0dXJuO1xyXG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XHJcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xyXG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XHJcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xyXG59XHJcbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XHJcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XHJcbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xyXG4gIHJldHVybiBhcnIyO1xyXG59XHJcbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XHJcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcclxufVxyXG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHtcclxuICBpZiAodHlwZW9mIGlucHV0ICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7XHJcbiAgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdO1xyXG4gIGlmIChwcmltICE9PSB1bmRlZmluZWQpIHtcclxuICAgIHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpO1xyXG4gICAgaWYgKHR5cGVvZiByZXMgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7XHJcbiAgfVxyXG4gIHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpO1xyXG59XHJcbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykge1xyXG4gIHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTtcclxuICByZXR1cm4gdHlwZW9mIGtleSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpO1xyXG59XHJcblxyXG52YXIgX2V4Y2x1ZGVkJDEgPSBbXCJhbmltYXRpb25EYXRhXCIsIFwibG9vcFwiLCBcImF1dG9wbGF5XCIsIFwiaW5pdGlhbFNlZ21lbnRcIiwgXCJvbkNvbXBsZXRlXCIsIFwib25Mb29wQ29tcGxldGVcIiwgXCJvbkVudGVyRnJhbWVcIiwgXCJvblNlZ21lbnRTdGFydFwiLCBcIm9uQ29uZmlnUmVhZHlcIiwgXCJvbkRhdGFSZWFkeVwiLCBcIm9uRGF0YUZhaWxlZFwiLCBcIm9uTG9hZGVkSW1hZ2VzXCIsIFwib25ET01Mb2FkZWRcIiwgXCJvbkRlc3Ryb3lcIiwgXCJsb3R0aWVSZWZcIiwgXCJyZW5kZXJlclwiLCBcIm5hbWVcIiwgXCJhc3NldHNQYXRoXCIsIFwicmVuZGVyZXJTZXR0aW5nc1wiXTtcclxudmFyIHVzZUxvdHRpZSA9IGZ1bmN0aW9uIHVzZUxvdHRpZShwcm9wcywgc3R5bGUpIHtcclxuICB2YXIgYW5pbWF0aW9uRGF0YSA9IHByb3BzLmFuaW1hdGlvbkRhdGEsXHJcbiAgICBsb29wID0gcHJvcHMubG9vcCxcclxuICAgIGF1dG9wbGF5ID0gcHJvcHMuYXV0b3BsYXksXHJcbiAgICBpbml0aWFsU2VnbWVudCA9IHByb3BzLmluaXRpYWxTZWdtZW50LFxyXG4gICAgb25Db21wbGV0ZSA9IHByb3BzLm9uQ29tcGxldGUsXHJcbiAgICBvbkxvb3BDb21wbGV0ZSA9IHByb3BzLm9uTG9vcENvbXBsZXRlLFxyXG4gICAgb25FbnRlckZyYW1lID0gcHJvcHMub25FbnRlckZyYW1lLFxyXG4gICAgb25TZWdtZW50U3RhcnQgPSBwcm9wcy5vblNlZ21lbnRTdGFydCxcclxuICAgIG9uQ29uZmlnUmVhZHkgPSBwcm9wcy5vbkNvbmZpZ1JlYWR5LFxyXG4gICAgb25EYXRhUmVhZHkgPSBwcm9wcy5vbkRhdGFSZWFkeSxcclxuICAgIG9uRGF0YUZhaWxlZCA9IHByb3BzLm9uRGF0YUZhaWxlZCxcclxuICAgIG9uTG9hZGVkSW1hZ2VzID0gcHJvcHMub25Mb2FkZWRJbWFnZXMsXHJcbiAgICBvbkRPTUxvYWRlZCA9IHByb3BzLm9uRE9NTG9hZGVkLFxyXG4gICAgb25EZXN0cm95ID0gcHJvcHMub25EZXN0cm95O1xyXG4gICAgcHJvcHMubG90dGllUmVmO1xyXG4gICAgcHJvcHMucmVuZGVyZXI7XHJcbiAgICBwcm9wcy5uYW1lO1xyXG4gICAgcHJvcHMuYXNzZXRzUGF0aDtcclxuICAgIHByb3BzLnJlbmRlcmVyU2V0dGluZ3M7XHJcbiAgICB2YXIgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgX2V4Y2x1ZGVkJDEpO1xyXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXHJcbiAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcclxuICAgIGFuaW1hdGlvbkxvYWRlZCA9IF91c2VTdGF0ZTJbMF0sXHJcbiAgICBzZXRBbmltYXRpb25Mb2FkZWQgPSBfdXNlU3RhdGUyWzFdO1xyXG4gIHZhciBhbmltYXRpb25JbnN0YW5jZVJlZiA9IHVzZVJlZigpO1xyXG4gIHZhciBhbmltYXRpb25Db250YWluZXIgPSB1c2VSZWYobnVsbCk7XHJcbiAgLypcclxuICAgICAgICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgICAgICBJTlRFUkFDVElPTiBNRVRIT0RTXHJcbiAgICAgICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAqL1xyXG4gIC8qKlxyXG4gICAqIFBsYXlcclxuICAgKi9cclxuICB2YXIgcGxheSA9IGZ1bmN0aW9uIHBsYXkoKSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICAoX2EgPSBhbmltYXRpb25JbnN0YW5jZVJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGxheSgpO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgICogU3RvcFxyXG4gICAqL1xyXG4gIHZhciBzdG9wID0gZnVuY3Rpb24gc3RvcCgpIHtcclxuICAgIHZhciBfYTtcclxuICAgIChfYSA9IGFuaW1hdGlvbkluc3RhbmNlUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdG9wKCk7XHJcbiAgfTtcclxuICAvKipcclxuICAgKiBQYXVzZVxyXG4gICAqL1xyXG4gIHZhciBwYXVzZSA9IGZ1bmN0aW9uIHBhdXNlKCkge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgKF9hID0gYW5pbWF0aW9uSW5zdGFuY2VSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhdXNlKCk7XHJcbiAgfTtcclxuICAvKipcclxuICAgKiBTZXQgYW5pbWF0aW9uIHNwZWVkXHJcbiAgICogQHBhcmFtIHNwZWVkXHJcbiAgICovXHJcbiAgdmFyIHNldFNwZWVkID0gZnVuY3Rpb24gc2V0U3BlZWQoc3BlZWQpIHtcclxuICAgIHZhciBfYTtcclxuICAgIChfYSA9IGFuaW1hdGlvbkluc3RhbmNlUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRTcGVlZChzcGVlZCk7XHJcbiAgfTtcclxuICAvKipcclxuICAgKiBHb3QgdG8gZnJhbWUgYW5kIHBsYXlcclxuICAgKiBAcGFyYW0gdmFsdWVcclxuICAgKiBAcGFyYW0gaXNGcmFtZVxyXG4gICAqL1xyXG4gIHZhciBnb1RvQW5kUGxheSA9IGZ1bmN0aW9uIGdvVG9BbmRQbGF5KHZhbHVlLCBpc0ZyYW1lKSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICAoX2EgPSBhbmltYXRpb25JbnN0YW5jZVJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ29Ub0FuZFBsYXkodmFsdWUsIGlzRnJhbWUpO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgICogR290IHRvIGZyYW1lIGFuZCBzdG9wXHJcbiAgICogQHBhcmFtIHZhbHVlXHJcbiAgICogQHBhcmFtIGlzRnJhbWVcclxuICAgKi9cclxuICB2YXIgZ29Ub0FuZFN0b3AgPSBmdW5jdGlvbiBnb1RvQW5kU3RvcCh2YWx1ZSwgaXNGcmFtZSkge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgKF9hID0gYW5pbWF0aW9uSW5zdGFuY2VSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdvVG9BbmRTdG9wKHZhbHVlLCBpc0ZyYW1lKTtcclxuICB9O1xyXG4gIC8qKlxyXG4gICAqIFNldCBhbmltYXRpb24gZGlyZWN0aW9uXHJcbiAgICogQHBhcmFtIGRpcmVjdGlvblxyXG4gICAqL1xyXG4gIHZhciBzZXREaXJlY3Rpb24gPSBmdW5jdGlvbiBzZXREaXJlY3Rpb24oZGlyZWN0aW9uKSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICAoX2EgPSBhbmltYXRpb25JbnN0YW5jZVJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0RGlyZWN0aW9uKGRpcmVjdGlvbik7XHJcbiAgfTtcclxuICAvKipcclxuICAgKiBQbGF5IGFuaW1hdGlvbiBzZWdtZW50c1xyXG4gICAqIEBwYXJhbSBzZWdtZW50c1xyXG4gICAqIEBwYXJhbSBmb3JjZUZsYWdcclxuICAgKi9cclxuICB2YXIgcGxheVNlZ21lbnRzID0gZnVuY3Rpb24gcGxheVNlZ21lbnRzKHNlZ21lbnRzLCBmb3JjZUZsYWcpIHtcclxuICAgIHZhciBfYTtcclxuICAgIChfYSA9IGFuaW1hdGlvbkluc3RhbmNlUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wbGF5U2VnbWVudHMoc2VnbWVudHMsIGZvcmNlRmxhZyk7XHJcbiAgfTtcclxuICAvKipcclxuICAgKiBTZXQgc3ViIGZyYW1lc1xyXG4gICAqIEBwYXJhbSB1c2VTdWJGcmFtZXNcclxuICAgKi9cclxuICB2YXIgc2V0U3ViZnJhbWUgPSBmdW5jdGlvbiBzZXRTdWJmcmFtZSh1c2VTdWJGcmFtZXMpIHtcclxuICAgIHZhciBfYTtcclxuICAgIChfYSA9IGFuaW1hdGlvbkluc3RhbmNlUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRTdWJmcmFtZSh1c2VTdWJGcmFtZXMpO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgICogR2V0IGFuaW1hdGlvbiBkdXJhdGlvblxyXG4gICAqIEBwYXJhbSBpbkZyYW1lc1xyXG4gICAqL1xyXG4gIHZhciBnZXREdXJhdGlvbiA9IGZ1bmN0aW9uIGdldER1cmF0aW9uKGluRnJhbWVzKSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICByZXR1cm4gKF9hID0gYW5pbWF0aW9uSW5zdGFuY2VSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldER1cmF0aW9uKGluRnJhbWVzKTtcclxuICB9O1xyXG4gIC8qKlxyXG4gICAqIERlc3Ryb3kgYW5pbWF0aW9uXHJcbiAgICovXHJcbiAgdmFyIGRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgKF9hID0gYW5pbWF0aW9uSW5zdGFuY2VSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3koKTtcclxuICAgIC8vIFJlbW92aW5nIHRoZSByZWZlcmVuY2UgdG8gdGhlIGFuaW1hdGlvbiBzbyBzZXBhcmF0ZSBjbGVhbnVwcyBhcmUgc2tpcHBlZC5cclxuICAgIC8vIFdpdGhvdXQgaXQgdGhlIGludGVybmFsIGBsb3R0aWUtcmVhY3RgIGluc3RhbmNlIHRocm93cyBleGNlcHRpb25zIGFzIGl0IGFscmVhZHkgY2xlYXJlZCBpdHNlbGYgb24gZGVzdHJveS5cclxuICAgIGFuaW1hdGlvbkluc3RhbmNlUmVmLmN1cnJlbnQgPSB1bmRlZmluZWQ7XHJcbiAgfTtcclxuICAvKlxyXG4gICAgICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgICAgIExPVFRJRVxyXG4gICAgICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgKi9cclxuICAvKipcclxuICAgKiBMb2FkIGEgbmV3IGFuaW1hdGlvbiwgYW5kIGlmIGl0J3MgdGhlIGNhc2UsIGRlc3Ryb3kgdGhlIHByZXZpb3VzIG9uZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBmb3JjZWRDb25maWdzXHJcbiAgICovXHJcbiAgdmFyIGxvYWRBbmltYXRpb24gPSBmdW5jdGlvbiBsb2FkQW5pbWF0aW9uKCkge1xyXG4gICAgdmFyIGZvcmNlZENvbmZpZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xyXG4gICAgdmFyIF9hO1xyXG4gICAgLy8gUmV0dXJuIGlmIHRoZSBjb250YWluZXIgcmVmIGlzIG51bGxcclxuICAgIGlmICghYW5pbWF0aW9uQ29udGFpbmVyLmN1cnJlbnQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gRGVzdHJveSBhbnkgcHJldmlvdXMgaW5zdGFuY2VcclxuICAgIChfYSA9IGFuaW1hdGlvbkluc3RhbmNlUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXN0cm95KCk7XHJcbiAgICAvLyBCdWlsZCB0aGUgYW5pbWF0aW9uIGNvbmZpZ3VyYXRpb25cclxuICAgIHZhciBjb25maWcgPSBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgcHJvcHMpLCBmb3JjZWRDb25maWdzKSwge30sIHtcclxuICAgICAgY29udGFpbmVyOiBhbmltYXRpb25Db250YWluZXIuY3VycmVudFxyXG4gICAgfSk7XHJcbiAgICAvLyBTYXZlIHRoZSBhbmltYXRpb24gaW5zdGFuY2VcclxuICAgIGFuaW1hdGlvbkluc3RhbmNlUmVmLmN1cnJlbnQgPSBsb3R0aWUubG9hZEFuaW1hdGlvbihjb25maWcpO1xyXG4gICAgc2V0QW5pbWF0aW9uTG9hZGVkKCEhYW5pbWF0aW9uSW5zdGFuY2VSZWYuY3VycmVudCk7XHJcbiAgICAvLyBSZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHdpbGwgY2xlYW4gdXBcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBfYTtcclxuICAgICAgKF9hID0gYW5pbWF0aW9uSW5zdGFuY2VSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3koKTtcclxuICAgICAgYW5pbWF0aW9uSW5zdGFuY2VSZWYuY3VycmVudCA9IHVuZGVmaW5lZDtcclxuICAgIH07XHJcbiAgfTtcclxuICAvKipcclxuICAgKiAoUmUpSW5pdGlhbGl6ZSB3aGVuIGFuaW1hdGlvbiBkYXRhIGNoYW5nZWRcclxuICAgKi9cclxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG9uVW5tb3VudCA9IGxvYWRBbmltYXRpb24oKTtcclxuICAgIC8vIENsZWFuIHVwIG9uIHVubW91bnRcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBvblVubW91bnQgPT09IG51bGwgfHwgb25Vbm1vdW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblVubW91bnQoKTtcclxuICAgIH07XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXHJcbiAgfSwgW2FuaW1hdGlvbkRhdGEsIGxvb3BdKTtcclxuICAvLyBVcGRhdGUgdGhlIGF1dG9wbGF5IHN0YXRlXHJcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICghYW5pbWF0aW9uSW5zdGFuY2VSZWYuY3VycmVudCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBhbmltYXRpb25JbnN0YW5jZVJlZi5jdXJyZW50LmF1dG9wbGF5ID0gISFhdXRvcGxheTtcclxuICB9LCBbYXV0b3BsYXldKTtcclxuICAvLyBVcGRhdGUgdGhlIGluaXRpYWwgc2VnbWVudCBzdGF0ZVxyXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoIWFuaW1hdGlvbkluc3RhbmNlUmVmLmN1cnJlbnQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gV2hlbiBudWxsIHNob3VsZCByZXNldCB0byBkZWZhdWx0IGFuaW1hdGlvbiBsZW5ndGhcclxuICAgIGlmICghaW5pdGlhbFNlZ21lbnQpIHtcclxuICAgICAgYW5pbWF0aW9uSW5zdGFuY2VSZWYuY3VycmVudC5yZXNldFNlZ21lbnRzKHRydWUpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyBJZiBpdCdzIG5vdCBhIHZhbGlkIHNlZ21lbnQsIGRvIG5vdGhpbmdcclxuICAgIGlmICghQXJyYXkuaXNBcnJheShpbml0aWFsU2VnbWVudCkgfHwgIWluaXRpYWxTZWdtZW50Lmxlbmd0aCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyBJZiB0aGUgY3VycmVudCBwb3NpdGlvbiBpdCdzIG5vdCBpbiB0aGUgbmV3IHNlZ21lbnRcclxuICAgIC8vIHNldCB0aGUgY3VycmVudCBwb3NpdGlvbiB0byBzdGFydFxyXG4gICAgaWYgKGFuaW1hdGlvbkluc3RhbmNlUmVmLmN1cnJlbnQuY3VycmVudFJhd0ZyYW1lIDwgaW5pdGlhbFNlZ21lbnRbMF0gfHwgYW5pbWF0aW9uSW5zdGFuY2VSZWYuY3VycmVudC5jdXJyZW50UmF3RnJhbWUgPiBpbml0aWFsU2VnbWVudFsxXSkge1xyXG4gICAgICBhbmltYXRpb25JbnN0YW5jZVJlZi5jdXJyZW50LmN1cnJlbnRSYXdGcmFtZSA9IGluaXRpYWxTZWdtZW50WzBdO1xyXG4gICAgfVxyXG4gICAgLy8gVXBkYXRlIHRoZSBzZWdtZW50XHJcbiAgICBhbmltYXRpb25JbnN0YW5jZVJlZi5jdXJyZW50LnNldFNlZ21lbnQoaW5pdGlhbFNlZ21lbnRbMF0sIGluaXRpYWxTZWdtZW50WzFdKTtcclxuICB9LCBbaW5pdGlhbFNlZ21lbnRdKTtcclxuICAvKlxyXG4gICAgICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgICAgIEVWRU5UU1xyXG4gICAgICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgKi9cclxuICAvKipcclxuICAgKiBSZWluaXRpYWxpemUgbGlzdGVuZXIgb24gY2hhbmdlXHJcbiAgICovXHJcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBwYXJ0aWFsTGlzdGVuZXJzID0gW3tcclxuICAgICAgbmFtZTogXCJjb21wbGV0ZVwiLFxyXG4gICAgICBoYW5kbGVyOiBvbkNvbXBsZXRlXHJcbiAgICB9LCB7XHJcbiAgICAgIG5hbWU6IFwibG9vcENvbXBsZXRlXCIsXHJcbiAgICAgIGhhbmRsZXI6IG9uTG9vcENvbXBsZXRlXHJcbiAgICB9LCB7XHJcbiAgICAgIG5hbWU6IFwiZW50ZXJGcmFtZVwiLFxyXG4gICAgICBoYW5kbGVyOiBvbkVudGVyRnJhbWVcclxuICAgIH0sIHtcclxuICAgICAgbmFtZTogXCJzZWdtZW50U3RhcnRcIixcclxuICAgICAgaGFuZGxlcjogb25TZWdtZW50U3RhcnRcclxuICAgIH0sIHtcclxuICAgICAgbmFtZTogXCJjb25maWdfcmVhZHlcIixcclxuICAgICAgaGFuZGxlcjogb25Db25maWdSZWFkeVxyXG4gICAgfSwge1xyXG4gICAgICBuYW1lOiBcImRhdGFfcmVhZHlcIixcclxuICAgICAgaGFuZGxlcjogb25EYXRhUmVhZHlcclxuICAgIH0sIHtcclxuICAgICAgbmFtZTogXCJkYXRhX2ZhaWxlZFwiLFxyXG4gICAgICBoYW5kbGVyOiBvbkRhdGFGYWlsZWRcclxuICAgIH0sIHtcclxuICAgICAgbmFtZTogXCJsb2FkZWRfaW1hZ2VzXCIsXHJcbiAgICAgIGhhbmRsZXI6IG9uTG9hZGVkSW1hZ2VzXHJcbiAgICB9LCB7XHJcbiAgICAgIG5hbWU6IFwiRE9NTG9hZGVkXCIsXHJcbiAgICAgIGhhbmRsZXI6IG9uRE9NTG9hZGVkXHJcbiAgICB9LCB7XHJcbiAgICAgIG5hbWU6IFwiZGVzdHJveVwiLFxyXG4gICAgICBoYW5kbGVyOiBvbkRlc3Ryb3lcclxuICAgIH1dO1xyXG4gICAgdmFyIGxpc3RlbmVycyA9IHBhcnRpYWxMaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xyXG4gICAgICByZXR1cm4gbGlzdGVuZXIuaGFuZGxlciAhPSBudWxsO1xyXG4gICAgfSk7XHJcbiAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGRlcmVnaXN0ZXJMaXN0ID0gbGlzdGVuZXJzLm1hcChcclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIHRoZSBwcm9jZXNzIG9mIGFkZGluZyBhbiBldmVudCBsaXN0ZW5lclxyXG4gICAgICogQHBhcmFtIHtMaXN0ZW5lcn0gbGlzdGVuZXJcclxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBGdW5jdGlvbiB0aGF0IGRlcmVnaXN0ZXIgdGhlIGxpc3RlbmVyXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIChsaXN0ZW5lcikge1xyXG4gICAgICB2YXIgX2E7XHJcbiAgICAgIChfYSA9IGFuaW1hdGlvbkluc3RhbmNlUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGRFdmVudExpc3RlbmVyKGxpc3RlbmVyLm5hbWUsIGxpc3RlbmVyLmhhbmRsZXIpO1xyXG4gICAgICAvLyBSZXR1cm4gYSBmdW5jdGlvbiB0byBkZXJlZ2lzdGVyIHRoaXMgbGlzdGVuZXJcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgKF9hID0gYW5pbWF0aW9uSW5zdGFuY2VSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlbW92ZUV2ZW50TGlzdGVuZXIobGlzdGVuZXIubmFtZSwgbGlzdGVuZXIuaGFuZGxlcik7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICAgIC8vIERlcmVnaXN0ZXIgbGlzdGVuZXJzIG9uIHVubW91bnRcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGRlcmVnaXN0ZXJMaXN0LmZvckVhY2goZnVuY3Rpb24gKGRlcmVnaXN0ZXIpIHtcclxuICAgICAgICByZXR1cm4gZGVyZWdpc3RlcigpO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgfSwgW29uQ29tcGxldGUsIG9uTG9vcENvbXBsZXRlLCBvbkVudGVyRnJhbWUsIG9uU2VnbWVudFN0YXJ0LCBvbkNvbmZpZ1JlYWR5LCBvbkRhdGFSZWFkeSwgb25EYXRhRmFpbGVkLCBvbkxvYWRlZEltYWdlcywgb25ET01Mb2FkZWQsIG9uRGVzdHJveV0pO1xyXG4gIC8qKlxyXG4gICAqIEJ1aWxkIHRoZSBhbmltYXRpb24gdmlld1xyXG4gICAqL1xyXG4gIHZhciBWaWV3ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX29iamVjdFNwcmVhZDIoe1xyXG4gICAgc3R5bGU6IHN0eWxlLFxyXG4gICAgcmVmOiBhbmltYXRpb25Db250YWluZXJcclxuICB9LCByZXN0KSk7XHJcbiAgcmV0dXJuIHtcclxuICAgIFZpZXc6IFZpZXcsXHJcbiAgICBwbGF5OiBwbGF5LFxyXG4gICAgc3RvcDogc3RvcCxcclxuICAgIHBhdXNlOiBwYXVzZSxcclxuICAgIHNldFNwZWVkOiBzZXRTcGVlZCxcclxuICAgIGdvVG9BbmRTdG9wOiBnb1RvQW5kU3RvcCxcclxuICAgIGdvVG9BbmRQbGF5OiBnb1RvQW5kUGxheSxcclxuICAgIHNldERpcmVjdGlvbjogc2V0RGlyZWN0aW9uLFxyXG4gICAgcGxheVNlZ21lbnRzOiBwbGF5U2VnbWVudHMsXHJcbiAgICBzZXRTdWJmcmFtZTogc2V0U3ViZnJhbWUsXHJcbiAgICBnZXREdXJhdGlvbjogZ2V0RHVyYXRpb24sXHJcbiAgICBkZXN0cm95OiBkZXN0cm95LFxyXG4gICAgYW5pbWF0aW9uQ29udGFpbmVyUmVmOiBhbmltYXRpb25Db250YWluZXIsXHJcbiAgICBhbmltYXRpb25Mb2FkZWQ6IGFuaW1hdGlvbkxvYWRlZCxcclxuICAgIGFuaW1hdGlvbkl0ZW06IGFuaW1hdGlvbkluc3RhbmNlUmVmLmN1cnJlbnRcclxuICB9O1xyXG59O1xyXG5cclxuLy8gaGVscGVyc1xyXG5mdW5jdGlvbiBnZXRDb250YWluZXJWaXNpYmlsaXR5KGNvbnRhaW5lcikge1xyXG4gIHZhciBfY29udGFpbmVyJGdldEJvdW5kaW4gPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXHJcbiAgICB0b3AgPSBfY29udGFpbmVyJGdldEJvdW5kaW4udG9wLFxyXG4gICAgaGVpZ2h0ID0gX2NvbnRhaW5lciRnZXRCb3VuZGluLmhlaWdodDtcclxuICB2YXIgY3VycmVudCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIHRvcDtcclxuICB2YXIgbWF4ID0gd2luZG93LmlubmVySGVpZ2h0ICsgaGVpZ2h0O1xyXG4gIHJldHVybiBjdXJyZW50IC8gbWF4O1xyXG59XHJcbmZ1bmN0aW9uIGdldENvbnRhaW5lckN1cnNvclBvc2l0aW9uKGNvbnRhaW5lciwgY3Vyc29yWCwgY3Vyc29yWSkge1xyXG4gIHZhciBfY29udGFpbmVyJGdldEJvdW5kaW4yID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxyXG4gICAgdG9wID0gX2NvbnRhaW5lciRnZXRCb3VuZGluMi50b3AsXHJcbiAgICBsZWZ0ID0gX2NvbnRhaW5lciRnZXRCb3VuZGluMi5sZWZ0LFxyXG4gICAgd2lkdGggPSBfY29udGFpbmVyJGdldEJvdW5kaW4yLndpZHRoLFxyXG4gICAgaGVpZ2h0ID0gX2NvbnRhaW5lciRnZXRCb3VuZGluMi5oZWlnaHQ7XHJcbiAgdmFyIHggPSAoY3Vyc29yWCAtIGxlZnQpIC8gd2lkdGg7XHJcbiAgdmFyIHkgPSAoY3Vyc29yWSAtIHRvcCkgLyBoZWlnaHQ7XHJcbiAgcmV0dXJuIHtcclxuICAgIHg6IHgsXHJcbiAgICB5OiB5XHJcbiAgfTtcclxufVxyXG52YXIgdXNlSW5pdEludGVyYWN0aXZpdHkgPSBmdW5jdGlvbiB1c2VJbml0SW50ZXJhY3Rpdml0eShfcmVmKSB7XHJcbiAgdmFyIHdyYXBwZXJSZWYgPSBfcmVmLndyYXBwZXJSZWYsXHJcbiAgICBhbmltYXRpb25JdGVtID0gX3JlZi5hbmltYXRpb25JdGVtLFxyXG4gICAgbW9kZSA9IF9yZWYubW9kZSxcclxuICAgIGFjdGlvbnMgPSBfcmVmLmFjdGlvbnM7XHJcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB3cmFwcGVyID0gd3JhcHBlclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKCF3cmFwcGVyIHx8ICFhbmltYXRpb25JdGVtIHx8ICFhY3Rpb25zLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBhbmltYXRpb25JdGVtLnN0b3AoKTtcclxuICAgIHZhciBzY3JvbGxNb2RlSGFuZGxlciA9IGZ1bmN0aW9uIHNjcm9sbE1vZGVIYW5kbGVyKCkge1xyXG4gICAgICB2YXIgYXNzaWduZWRTZWdtZW50ID0gbnVsbDtcclxuICAgICAgdmFyIHNjcm9sbEhhbmRsZXIgPSBmdW5jdGlvbiBzY3JvbGxIYW5kbGVyKCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50UGVyY2VudCA9IGdldENvbnRhaW5lclZpc2liaWxpdHkod3JhcHBlcik7XHJcbiAgICAgICAgLy8gRmluZCB0aGUgZmlyc3QgYWN0aW9uIHRoYXQgc2F0aXNmaWVzIHRoZSBjdXJyZW50IHBvc2l0aW9uIGNvbmRpdGlvbnNcclxuICAgICAgICB2YXIgYWN0aW9uID0gYWN0aW9ucy5maW5kKGZ1bmN0aW9uIChfcmVmMikge1xyXG4gICAgICAgICAgdmFyIHZpc2liaWxpdHkgPSBfcmVmMi52aXNpYmlsaXR5O1xyXG4gICAgICAgICAgcmV0dXJuIHZpc2liaWxpdHkgJiYgY3VycmVudFBlcmNlbnQgPj0gdmlzaWJpbGl0eVswXSAmJiBjdXJyZW50UGVyY2VudCA8PSB2aXNpYmlsaXR5WzFdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFNraXAgaWYgbm8gbWF0Y2hpbmcgYWN0aW9uIHdhcyBmb3VuZCFcclxuICAgICAgICBpZiAoIWFjdGlvbikge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFwic2Vla1wiICYmIGFjdGlvbi52aXNpYmlsaXR5ICYmIGFjdGlvbi5mcmFtZXMubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAvLyBTZWVrOiBHbyB0byBhIGZyYW1lIGJhc2VkIG9uIHBsYXllciBzY3JvbGwgcG9zaXRpb24gYWN0aW9uXHJcbiAgICAgICAgICB2YXIgZnJhbWVUb0dvID0gYWN0aW9uLmZyYW1lc1swXSArIE1hdGguY2VpbCgoY3VycmVudFBlcmNlbnQgLSBhY3Rpb24udmlzaWJpbGl0eVswXSkgLyAoYWN0aW9uLnZpc2liaWxpdHlbMV0gLSBhY3Rpb24udmlzaWJpbGl0eVswXSkgKiBhY3Rpb24uZnJhbWVzWzFdKTtcclxuICAgICAgICAgIC8vISBnb1RvQW5kU3RvcCBtdXN0IGJlIHJlbGF0aXZlIHRvIHRoZSBzdGFydCBvZiB0aGUgY3VycmVudCBzZWdtZW50XHJcbiAgICAgICAgICBhbmltYXRpb25JdGVtLmdvVG9BbmRTdG9wKGZyYW1lVG9HbyAtIGFuaW1hdGlvbkl0ZW0uZmlyc3RGcmFtZSAtIDEsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFwibG9vcFwiKSB7XHJcbiAgICAgICAgICAvLyBMb29wOiBMb29wIGEgZ2l2ZW4gZnJhbWVzXHJcbiAgICAgICAgICBpZiAoYXNzaWduZWRTZWdtZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIG5vdCBwbGF5aW5nIGFueSBzZWdtZW50cyBjdXJyZW50bHkuIHBsYXkgdGhvc2Ugc2VnbWVudHMgYW5kIHNhdmUgdG8gc3RhdGVcclxuICAgICAgICAgICAgYW5pbWF0aW9uSXRlbS5wbGF5U2VnbWVudHMoYWN0aW9uLmZyYW1lcywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGFzc2lnbmVkU2VnbWVudCA9IGFjdGlvbi5mcmFtZXM7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBpZiBwbGF5aW5nIGFueSBzZWdtZW50cyBjdXJyZW50bHkuXHJcbiAgICAgICAgICAgIC8vY2hlY2sgaWYgc2VnbWVudHMgaW4gc3RhdGUgYXJlIGVxdWFsIHRvIHRoZSBmcmFtZXMgc2VsZWN0ZWQgYnkgYWN0aW9uXHJcbiAgICAgICAgICAgIGlmIChhc3NpZ25lZFNlZ21lbnQgIT09IGFjdGlvbi5mcmFtZXMpIHtcclxuICAgICAgICAgICAgICAvLyBpZiB0aGV5IGFyZSBub3QgZXF1YWwuIG5ldyBzZWdtZW50cyBhcmUgdG8gYmUgbG9hZGVkXHJcbiAgICAgICAgICAgICAgYW5pbWF0aW9uSXRlbS5wbGF5U2VnbWVudHMoYWN0aW9uLmZyYW1lcywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgYXNzaWduZWRTZWdtZW50ID0gYWN0aW9uLmZyYW1lcztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChhbmltYXRpb25JdGVtLmlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgICAgLy8gaWYgdGhleSBhcmUgZXF1YWwgdGhlIHBsYXkgbWV0aG9kIG11c3QgYmUgY2FsbGVkIG9ubHkgaWYgbG90dGllIGlzIHBhdXNlZFxyXG4gICAgICAgICAgICAgIGFuaW1hdGlvbkl0ZW0ucGxheVNlZ21lbnRzKGFjdGlvbi5mcmFtZXMsIHRydWUpO1xyXG4gICAgICAgICAgICAgIGFzc2lnbmVkU2VnbWVudCA9IGFjdGlvbi5mcmFtZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFjdGlvbi50eXBlID09PSBcInBsYXlcIiAmJiBhbmltYXRpb25JdGVtLmlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAvLyBQbGF5OiBSZXNldCBzZWdtZW50cyBhbmQgY29udGludWUgcGxheWluZyBmdWxsIGFuaW1hdGlvbiBmcm9tIGN1cnJlbnQgcG9zaXRpb25cclxuICAgICAgICAgIGFuaW1hdGlvbkl0ZW0ucmVzZXRTZWdtZW50cyh0cnVlKTtcclxuICAgICAgICAgIGFuaW1hdGlvbkl0ZW0ucGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFwic3RvcFwiKSB7XHJcbiAgICAgICAgICAvLyBTdG9wOiBTdG9wIHBsYXliYWNrXHJcbiAgICAgICAgICBhbmltYXRpb25JdGVtLmdvVG9BbmRTdG9wKGFjdGlvbi5mcmFtZXNbMF0gLSBhbmltYXRpb25JdGVtLmZpcnN0RnJhbWUgLSAxLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2Nyb2xsSGFuZGxlcik7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY3JvbGxIYW5kbGVyKTtcclxuICAgICAgfTtcclxuICAgIH07XHJcbiAgICB2YXIgY3Vyc29yTW9kZUhhbmRsZXIgPSBmdW5jdGlvbiBjdXJzb3JNb2RlSGFuZGxlcigpIHtcclxuICAgICAgdmFyIGhhbmRsZUN1cnNvciA9IGZ1bmN0aW9uIGhhbmRsZUN1cnNvcihfeCwgX3kpIHtcclxuICAgICAgICB2YXIgeCA9IF94O1xyXG4gICAgICAgIHZhciB5ID0gX3k7XHJcbiAgICAgICAgLy8gUmVzb2x2ZSBjdXJzb3IgcG9zaXRpb24gaWYgY3Vyc29yIGlzIGluc2lkZSBjb250YWluZXJcclxuICAgICAgICBpZiAoeCAhPT0gLTEgJiYgeSAhPT0gLTEpIHtcclxuICAgICAgICAgIC8vIEdldCBjb250YWluZXIgY3Vyc29yIHBvc2l0aW9uXHJcbiAgICAgICAgICB2YXIgcG9zID0gZ2V0Q29udGFpbmVyQ3Vyc29yUG9zaXRpb24od3JhcHBlciwgeCwgeSk7XHJcbiAgICAgICAgICAvLyBVc2UgdGhlIHJlc29sdmVkIHBvc2l0aW9uXHJcbiAgICAgICAgICB4ID0gcG9zLng7XHJcbiAgICAgICAgICB5ID0gcG9zLnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEZpbmQgdGhlIGZpcnN0IGFjdGlvbiB0aGF0IHNhdGlzZmllcyB0aGUgY3VycmVudCBwb3NpdGlvbiBjb25kaXRpb25zXHJcbiAgICAgICAgdmFyIGFjdGlvbiA9IGFjdGlvbnMuZmluZChmdW5jdGlvbiAoX3JlZjMpIHtcclxuICAgICAgICAgIHZhciBwb3NpdGlvbiA9IF9yZWYzLnBvc2l0aW9uO1xyXG4gICAgICAgICAgaWYgKHBvc2l0aW9uICYmIEFycmF5LmlzQXJyYXkocG9zaXRpb24ueCkgJiYgQXJyYXkuaXNBcnJheShwb3NpdGlvbi55KSkge1xyXG4gICAgICAgICAgICByZXR1cm4geCA+PSBwb3NpdGlvbi54WzBdICYmIHggPD0gcG9zaXRpb24ueFsxXSAmJiB5ID49IHBvc2l0aW9uLnlbMF0gJiYgeSA8PSBwb3NpdGlvbi55WzFdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHBvc2l0aW9uICYmICFOdW1iZXIuaXNOYU4ocG9zaXRpb24ueCkgJiYgIU51bWJlci5pc05hTihwb3NpdGlvbi55KSkge1xyXG4gICAgICAgICAgICByZXR1cm4geCA9PT0gcG9zaXRpb24ueCAmJiB5ID09PSBwb3NpdGlvbi55O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFNraXAgaWYgbm8gbWF0Y2hpbmcgYWN0aW9uIHdhcyBmb3VuZCFcclxuICAgICAgICBpZiAoIWFjdGlvbikge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBQcm9jZXNzIGFjdGlvbiB0eXBlczpcclxuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFwic2Vla1wiICYmIGFjdGlvbi5wb3NpdGlvbiAmJiBBcnJheS5pc0FycmF5KGFjdGlvbi5wb3NpdGlvbi54KSAmJiBBcnJheS5pc0FycmF5KGFjdGlvbi5wb3NpdGlvbi55KSAmJiBhY3Rpb24uZnJhbWVzLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgLy8gU2VlazogR28gdG8gYSBmcmFtZSBiYXNlZCBvbiBwbGF5ZXIgc2Nyb2xsIHBvc2l0aW9uIGFjdGlvblxyXG4gICAgICAgICAgdmFyIHhQZXJjZW50ID0gKHggLSBhY3Rpb24ucG9zaXRpb24ueFswXSkgLyAoYWN0aW9uLnBvc2l0aW9uLnhbMV0gLSBhY3Rpb24ucG9zaXRpb24ueFswXSk7XHJcbiAgICAgICAgICB2YXIgeVBlcmNlbnQgPSAoeSAtIGFjdGlvbi5wb3NpdGlvbi55WzBdKSAvIChhY3Rpb24ucG9zaXRpb24ueVsxXSAtIGFjdGlvbi5wb3NpdGlvbi55WzBdKTtcclxuICAgICAgICAgIGFuaW1hdGlvbkl0ZW0ucGxheVNlZ21lbnRzKGFjdGlvbi5mcmFtZXMsIHRydWUpO1xyXG4gICAgICAgICAgYW5pbWF0aW9uSXRlbS5nb1RvQW5kU3RvcChNYXRoLmNlaWwoKHhQZXJjZW50ICsgeVBlcmNlbnQpIC8gMiAqIChhY3Rpb24uZnJhbWVzWzFdIC0gYWN0aW9uLmZyYW1lc1swXSkpLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFjdGlvbi50eXBlID09PSBcImxvb3BcIikge1xyXG4gICAgICAgICAgYW5pbWF0aW9uSXRlbS5wbGF5U2VnbWVudHMoYWN0aW9uLmZyYW1lcywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gXCJwbGF5XCIpIHtcclxuICAgICAgICAgIC8vIFBsYXk6IFJlc2V0IHNlZ21lbnRzIGFuZCBjb250aW51ZSBwbGF5aW5nIGZ1bGwgYW5pbWF0aW9uIGZyb20gY3VycmVudCBwb3NpdGlvblxyXG4gICAgICAgICAgaWYgKGFuaW1hdGlvbkl0ZW0uaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgYW5pbWF0aW9uSXRlbS5yZXNldFNlZ21lbnRzKGZhbHNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGFuaW1hdGlvbkl0ZW0ucGxheVNlZ21lbnRzKGFjdGlvbi5mcmFtZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFwic3RvcFwiKSB7XHJcbiAgICAgICAgICBhbmltYXRpb25JdGVtLmdvVG9BbmRTdG9wKGFjdGlvbi5mcmFtZXNbMF0sIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgdmFyIG1vdXNlTW92ZUhhbmRsZXIgPSBmdW5jdGlvbiBtb3VzZU1vdmVIYW5kbGVyKGV2KSB7XHJcbiAgICAgICAgaGFuZGxlQ3Vyc29yKGV2LmNsaWVudFgsIGV2LmNsaWVudFkpO1xyXG4gICAgICB9O1xyXG4gICAgICB2YXIgbW91c2VPdXRIYW5kbGVyID0gZnVuY3Rpb24gbW91c2VPdXRIYW5kbGVyKCkge1xyXG4gICAgICAgIGhhbmRsZUN1cnNvcigtMSwgLTEpO1xyXG4gICAgICB9O1xyXG4gICAgICB3cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgbW91c2VNb3ZlSGFuZGxlcik7XHJcbiAgICAgIHdyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIG1vdXNlT3V0SGFuZGxlcik7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgd3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1vdXNlTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgIHdyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIG1vdXNlT3V0SGFuZGxlcik7XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgc3dpdGNoIChtb2RlKSB7XHJcbiAgICAgIGNhc2UgXCJzY3JvbGxcIjpcclxuICAgICAgICByZXR1cm4gc2Nyb2xsTW9kZUhhbmRsZXIoKTtcclxuICAgICAgY2FzZSBcImN1cnNvclwiOlxyXG4gICAgICAgIHJldHVybiBjdXJzb3JNb2RlSGFuZGxlcigpO1xyXG4gICAgfVxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xyXG4gIH0sIFttb2RlLCBhbmltYXRpb25JdGVtXSk7XHJcbn07XHJcbnZhciB1c2VMb3R0aWVJbnRlcmFjdGl2aXR5ID0gZnVuY3Rpb24gdXNlTG90dGllSW50ZXJhY3Rpdml0eShfcmVmNCkge1xyXG4gIHZhciBhY3Rpb25zID0gX3JlZjQuYWN0aW9ucyxcclxuICAgIG1vZGUgPSBfcmVmNC5tb2RlLFxyXG4gICAgbG90dGllT2JqID0gX3JlZjQubG90dGllT2JqO1xyXG4gIHZhciBhbmltYXRpb25JdGVtID0gbG90dGllT2JqLmFuaW1hdGlvbkl0ZW0sXHJcbiAgICBWaWV3ID0gbG90dGllT2JqLlZpZXcsXHJcbiAgICBhbmltYXRpb25Db250YWluZXJSZWYgPSBsb3R0aWVPYmouYW5pbWF0aW9uQ29udGFpbmVyUmVmO1xyXG4gIHVzZUluaXRJbnRlcmFjdGl2aXR5KHtcclxuICAgIGFjdGlvbnM6IGFjdGlvbnMsXHJcbiAgICBhbmltYXRpb25JdGVtOiBhbmltYXRpb25JdGVtLFxyXG4gICAgbW9kZTogbW9kZSxcclxuICAgIHdyYXBwZXJSZWY6IGFuaW1hdGlvbkNvbnRhaW5lclJlZlxyXG4gIH0pO1xyXG4gIHJldHVybiBWaWV3O1xyXG59O1xyXG5cclxudmFyIF9leGNsdWRlZCA9IFtcInN0eWxlXCIsIFwiaW50ZXJhY3Rpdml0eVwiXTtcclxudmFyIExvdHRpZSA9IGZ1bmN0aW9uIExvdHRpZShwcm9wcykge1xyXG4gIHZhciBfYSwgX2IsIF9jO1xyXG4gIHZhciBzdHlsZSA9IHByb3BzLnN0eWxlLFxyXG4gICAgaW50ZXJhY3Rpdml0eSA9IHByb3BzLmludGVyYWN0aXZpdHksXHJcbiAgICBsb3R0aWVQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgX2V4Y2x1ZGVkKTtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplIHRoZSAndXNlTG90dGllJyBob29rXHJcbiAgICovXHJcbiAgdmFyIF91c2VMb3R0aWUgPSB1c2VMb3R0aWUobG90dGllUHJvcHMsIHN0eWxlKSxcclxuICAgIFZpZXcgPSBfdXNlTG90dGllLlZpZXcsXHJcbiAgICBwbGF5ID0gX3VzZUxvdHRpZS5wbGF5LFxyXG4gICAgc3RvcCA9IF91c2VMb3R0aWUuc3RvcCxcclxuICAgIHBhdXNlID0gX3VzZUxvdHRpZS5wYXVzZSxcclxuICAgIHNldFNwZWVkID0gX3VzZUxvdHRpZS5zZXRTcGVlZCxcclxuICAgIGdvVG9BbmRTdG9wID0gX3VzZUxvdHRpZS5nb1RvQW5kU3RvcCxcclxuICAgIGdvVG9BbmRQbGF5ID0gX3VzZUxvdHRpZS5nb1RvQW5kUGxheSxcclxuICAgIHNldERpcmVjdGlvbiA9IF91c2VMb3R0aWUuc2V0RGlyZWN0aW9uLFxyXG4gICAgcGxheVNlZ21lbnRzID0gX3VzZUxvdHRpZS5wbGF5U2VnbWVudHMsXHJcbiAgICBzZXRTdWJmcmFtZSA9IF91c2VMb3R0aWUuc2V0U3ViZnJhbWUsXHJcbiAgICBnZXREdXJhdGlvbiA9IF91c2VMb3R0aWUuZ2V0RHVyYXRpb24sXHJcbiAgICBkZXN0cm95ID0gX3VzZUxvdHRpZS5kZXN0cm95LFxyXG4gICAgYW5pbWF0aW9uQ29udGFpbmVyUmVmID0gX3VzZUxvdHRpZS5hbmltYXRpb25Db250YWluZXJSZWYsXHJcbiAgICBhbmltYXRpb25Mb2FkZWQgPSBfdXNlTG90dGllLmFuaW1hdGlvbkxvYWRlZCxcclxuICAgIGFuaW1hdGlvbkl0ZW0gPSBfdXNlTG90dGllLmFuaW1hdGlvbkl0ZW07XHJcbiAgLyoqXHJcbiAgICogTWFrZSB0aGUgaG9vayB2YXJpYWJsZXMvbWV0aG9kcyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgcHJvdmlkZWQgJ2xvdHRpZVJlZidcclxuICAgKi9cclxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHByb3BzLmxvdHRpZVJlZikge1xyXG4gICAgICBwcm9wcy5sb3R0aWVSZWYuY3VycmVudCA9IHtcclxuICAgICAgICBwbGF5OiBwbGF5LFxyXG4gICAgICAgIHN0b3A6IHN0b3AsXHJcbiAgICAgICAgcGF1c2U6IHBhdXNlLFxyXG4gICAgICAgIHNldFNwZWVkOiBzZXRTcGVlZCxcclxuICAgICAgICBnb1RvQW5kUGxheTogZ29Ub0FuZFBsYXksXHJcbiAgICAgICAgZ29Ub0FuZFN0b3A6IGdvVG9BbmRTdG9wLFxyXG4gICAgICAgIHNldERpcmVjdGlvbjogc2V0RGlyZWN0aW9uLFxyXG4gICAgICAgIHBsYXlTZWdtZW50czogcGxheVNlZ21lbnRzLFxyXG4gICAgICAgIHNldFN1YmZyYW1lOiBzZXRTdWJmcmFtZSxcclxuICAgICAgICBnZXREdXJhdGlvbjogZ2V0RHVyYXRpb24sXHJcbiAgICAgICAgZGVzdHJveTogZGVzdHJveSxcclxuICAgICAgICBhbmltYXRpb25Db250YWluZXJSZWY6IGFuaW1hdGlvbkNvbnRhaW5lclJlZixcclxuICAgICAgICBhbmltYXRpb25Mb2FkZWQ6IGFuaW1hdGlvbkxvYWRlZCxcclxuICAgICAgICBhbmltYXRpb25JdGVtOiBhbmltYXRpb25JdGVtXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXHJcbiAgfSwgWyhfYSA9IHByb3BzLmxvdHRpZVJlZikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmN1cnJlbnRdKTtcclxuICByZXR1cm4gdXNlTG90dGllSW50ZXJhY3Rpdml0eSh7XHJcbiAgICBsb3R0aWVPYmo6IHtcclxuICAgICAgVmlldzogVmlldyxcclxuICAgICAgcGxheTogcGxheSxcclxuICAgICAgc3RvcDogc3RvcCxcclxuICAgICAgcGF1c2U6IHBhdXNlLFxyXG4gICAgICBzZXRTcGVlZDogc2V0U3BlZWQsXHJcbiAgICAgIGdvVG9BbmRTdG9wOiBnb1RvQW5kU3RvcCxcclxuICAgICAgZ29Ub0FuZFBsYXk6IGdvVG9BbmRQbGF5LFxyXG4gICAgICBzZXREaXJlY3Rpb246IHNldERpcmVjdGlvbixcclxuICAgICAgcGxheVNlZ21lbnRzOiBwbGF5U2VnbWVudHMsXHJcbiAgICAgIHNldFN1YmZyYW1lOiBzZXRTdWJmcmFtZSxcclxuICAgICAgZ2V0RHVyYXRpb246IGdldER1cmF0aW9uLFxyXG4gICAgICBkZXN0cm95OiBkZXN0cm95LFxyXG4gICAgICBhbmltYXRpb25Db250YWluZXJSZWY6IGFuaW1hdGlvbkNvbnRhaW5lclJlZixcclxuICAgICAgYW5pbWF0aW9uTG9hZGVkOiBhbmltYXRpb25Mb2FkZWQsXHJcbiAgICAgIGFuaW1hdGlvbkl0ZW06IGFuaW1hdGlvbkl0ZW1cclxuICAgIH0sXHJcbiAgICBhY3Rpb25zOiAoX2IgPSBpbnRlcmFjdGl2aXR5ID09PSBudWxsIHx8IGludGVyYWN0aXZpdHkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyYWN0aXZpdHkuYWN0aW9ucykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10sXHJcbiAgICBtb2RlOiAoX2MgPSBpbnRlcmFjdGl2aXR5ID09PSBudWxsIHx8IGludGVyYWN0aXZpdHkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyYWN0aXZpdHkubW9kZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogXCJzY3JvbGxcIlxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgTG90dGllIGFzIGRlZmF1bHQsIHVzZUxvdHRpZSwgdXNlTG90dGllSW50ZXJhY3Rpdml0eSB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/lottie-react/build/index.es.js\n");

/***/ })

};
;